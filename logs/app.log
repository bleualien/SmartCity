[INFO] 2025-11-19 13:10:34,202 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 13:10:34,209 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 13:17:09,948 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 13:17:09,949 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 13:17:09,951 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 13:17:09,952 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 13:17:10,238 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 13:17:10,238 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 14:55:32,957 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 14:55:32,958 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 14:55:32,961 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 14:55:32,962 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 14:55:33,276 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 14:55:33,277 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:00:43,857 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:00:43,857 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:00:43,859 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:00:43,859 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:00:44,001 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:00:44,001 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:00:44,203 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:00:44,205 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:00:44,205 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:00:50,336 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-19 15:00:50,337 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-19 15:00:50,375 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:01:15,496 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:01:15,497 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:01:15,499 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:01:15,499 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:01:15,712 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:01:15,712 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:01:15,959 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:01:15,961 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:01:15,962 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:01:20,423 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:01:20,431 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:01:22,220 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\flask\\app.py', reloading
[INFO] 2025-11-19 15:01:22,225 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\util\\deprecations.py', reloading
[INFO] 2025-11-19 15:01:22,229 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\query.py', reloading
[INFO] 2025-11-19 15:01:22,234 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\session.py', reloading
[INFO] 2025-11-19 15:01:22,237 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\loading.py', reloading
[INFO] 2025-11-19 15:01:22,239 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\flask_sqlalchemy\\session.py', reloading
[INFO] 2025-11-19 15:01:22,244 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\flask_sqlalchemy\\extension.py', reloading
[INFO] 2025-11-19 15:01:22,259 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:01:22] "[35m[1mGET /detections/a924351a-6d73-4bbb-b2f9-225e46005cdc HTTP/1.1[0m" 500 -
[INFO] 2025-11-19 15:01:24,962 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:01:55,321 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:01:55,321 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:01:55,324 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:01:55,324 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:01:55,577 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:01:55,577 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:01:55,702 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:01:55,706 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:01:55,707 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:02:00,283 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:02:00,289 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:02:00,404 â€” __main__ â€” File saved: acf958bd-e43c-4f11-80f8-d2c45771681b_20251119T091700Z_w1.jpg
[ERROR] 2025-11-19 15:02:01,416 â€” __main__ â€” Database save failed
Traceback (most recent call last):
  File "C:\Files\Intern\ML-Project\app.py", line 188, in detect
    dept = Department.query.filter_by(name=dept_name).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2237, in _execute_internal
    bind = self.get_bind(**bind_arguments)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\flask_sqlalchemy\session.py", line 53, in get_bind
    engines = self._db.engines
              ^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\flask_sqlalchemy\extension.py", line 690, in engines
    raise RuntimeError(
RuntimeError: The current Flask app is not registered with this 'SQLAlchemy' instance. Did you forget to call 'init_app', or did you create multiple 'SQLAlchemy' instances?
[INFO] 2025-11-19 15:02:01,431 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:02:01] "[35m[1mPOST /detect HTTP/1.1[0m" 500 -
[INFO] 2025-11-19 15:02:58,308 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\__init__.py', reloading
[INFO] 2025-11-19 15:02:58,311 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\__init__.py', reloading
[INFO] 2025-11-19 15:03:00,473 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:03:16,251 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:03:16,252 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:03:16,253 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:03:16,254 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:03:16,371 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:03:16,372 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:03:16,503 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:03:16,506 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:03:16,507 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:03:20,288 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:03:20,294 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:07:05,106 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-19 15:07:05,106 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-19 15:07:07,267 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:07:50,117 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:07:50,117 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:07:50,119 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:07:50,119 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:07:50,229 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:07:50,230 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:07:50,524 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:07:50,526 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:07:50,527 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:07:54,768 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-19 15:07:54,769 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-19 15:07:54,781 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:08:19,704 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:08:19,704 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:08:19,707 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:08:19,708 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:08:19,943 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:08:19,944 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:08:20,096 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:08:20,100 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:08:20,101 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:08:25,075 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:08:25,080 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[ERROR] 2025-11-19 15:08:26,496 â€” __main__ â€” Unexpected error in /detect
Traceback (most recent call last):
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column "user_id" of relation "detection" does not exist
LINE 1: INSERT INTO detection (id, user_id, type, params, routing, t...
                                   ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Files\Intern\ML-Project\app.py", line 177, in detect
    dept = Department.query.filter_by(name=dept_name).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2228, in _execute_internal
    ) = compile_state_cls.orm_pre_session_exec(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\context.py", line 577, in orm_pre_session_exec
    session._autoflush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3051, in _autoflush
    raise e.with_traceback(sys.exc_info()[2])
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3040, in _autoflush
    self.flush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.UndefinedColumn) column "user_id" of relation "detection" does not exist
LINE 1: INSERT INTO detection (id, user_id, type, params, routing, t...
                                   ^

[SQL: INSERT INTO detection (id, user_id, type, params, routing, timestamp) VALUES (%(id)s, %(user_id)s, %(type)s, %(params)s::JSON, %(routing)s::JSON, %(timestamp)s)]
[parameters: {'id': '0003883c-feab-4e7a-8176-c386fc3e8b7e', 'user_id': None, 'type': 'waste', 'params': '{"detections": [{"xyxy": [184.546630859375, 212.54483032226562, 502.1412353515625, 427.4015197753906], "conf": 0.3083190321922302, "class_id": 4, "cl ... (574 characters truncated) ... idual", "area_px": 68237.32530936599, "area_pct": 0.1665950324935693, "density": 1.0, "proximity_pct": 0.3321851253509521}, "waste_type": "residual"}', 'routing': '{"departments": ["Ward Office"], "priority": "high", "scores": {"Waste Management": 0.7950447201728821, "Construction": 0.0, "Municipality": 0.614993 ... (19 characters truncated) ... : 0.7953193187713623, "Electricity": 0.5370234251022339, "Water": 1.0, "Ward Office": 0.2974102795124054}, "auto_assigned_department": "Ward Office"}', 'timestamp': '20251119T092326Z'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[INFO] 2025-11-19 15:08:26,510 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\context.py', reloading
[INFO] 2025-11-19 15:08:26,538 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:08:26] "[35m[1mPOST /detect HTTP/1.1[0m" 500 -
[INFO] 2025-11-19 15:08:28,972 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:08:49,041 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:08:49,041 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:08:49,042 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:08:49,043 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:08:49,135 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:08:49,135 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:08:49,208 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:08:49,210 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:08:49,210 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:08:52,887 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:08:52,890 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:08:55,982 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\detection.py', reloading
[INFO] 2025-11-19 15:08:55,984 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\detection.py', reloading
[INFO] 2025-11-19 15:08:57,508 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:09:12,063 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:09:12,063 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:09:12,064 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:09:12,065 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:09:12,147 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:09:12,148 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:09:12,278 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:09:12,280 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:09:12,281 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:09:16,238 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:09:16,242 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[ERROR] 2025-11-19 15:10:53,586 â€” __main__ â€” Unexpected error in /detect
Traceback (most recent call last):
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2434, in _determine_joins
    self.primaryjoin = join_condition(
                       ^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\sql\util.py", line 121, in join_condition
    return Join._join_condition(
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\sql\selectable.py", line 1447, in _join_condition
    raise exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Can't find any foreign key relationships between 'user' and 'detection'.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Files\Intern\ML-Project\app.py", line 157, in detect
    det = Detection(
          ^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\state.py", line 566, in _initialize_instance
    manager.dispatch.init(self, args, kwargs)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\event\attr.py", line 515, in __call__
    fn(*args, **kw)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4410, in _event_on_init
    instrumenting_mapper._check_configure()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2401, in _check_configure
    _configure_registries({self.registry}, cascade=True)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4218, in _configure_registries
    _do_configure_registries(registries, cascade)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\mapper.py", line 4259, in _do_configure_registries
    mapper._post_configure_properties()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\mapper.py", line 2418, in _post_configure_properties
    prop.init()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\interfaces.py", line 595, in init
    self.do_init()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1657, in do_init
    self._setup_join_conditions()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\relationships.py", line 1895, in _setup_join_conditions
    self._join_condition = jc = JoinCondition(
                                ^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2321, in __init__
    self._determine_joins()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\relationships.py", line 2455, in _determine_joins
    raise sa_exc.NoForeignKeysError(
sqlalchemy.exc.NoForeignKeysError: Could not determine join condition between parent/child tables on relationship User.detections - there are no foreign keys linking these tables.  Ensure that referencing columns are associated with a ForeignKey or ForeignKeyConstraint, or specify a 'primaryjoin' expression.
[INFO] 2025-11-19 15:10:53,593 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\state.py', reloading
[INFO] 2025-11-19 15:10:53,628 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:10:53] "[35m[1mPOST /detect HTTP/1.1[0m" 500 -
[INFO] 2025-11-19 15:10:53,629 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\event\\attr.py', reloading
[INFO] 2025-11-19 15:10:53,631 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\mapper.py', reloading
[INFO] 2025-11-19 15:10:53,633 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\interfaces.py', reloading
[INFO] 2025-11-19 15:10:53,637 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\relationships.py', reloading
[INFO] 2025-11-19 15:10:53,639 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\sql\\util.py', reloading
[INFO] 2025-11-19 15:10:53,641 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\sql\\selectable.py', reloading
[INFO] 2025-11-19 15:10:56,277 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:11:15,735 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:11:15,735 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:11:15,738 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:11:15,738 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:11:15,918 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:11:15,918 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:11:16,041 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:11:16,043 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:11:16,044 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:11:19,859 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:11:19,864 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:11:27,360 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\detection.py', reloading
[INFO] 2025-11-19 15:11:27,362 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\detection.py', reloading
[INFO] 2025-11-19 15:11:28,818 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:11:42,683 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:11:42,684 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:11:42,686 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:11:42,687 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:11:42,794 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:11:42,795 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:11:42,883 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:11:42,886 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:11:42,886 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:11:46,515 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:11:46,521 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:13:01,416 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:13:01,416 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:13:01,418 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:13:01,418 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:13:01,502 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:13:01,502 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:13:01,567 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:13:01,569 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:13:01,569 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:13:06,040 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-19 15:13:06,040 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-19 15:13:06,053 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:13:26,980 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:13:26,981 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:13:26,984 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:13:26,984 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:13:27,193 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:13:27,194 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:13:27,323 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:13:27,328 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:13:27,330 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[WARNING] 2025-11-19 15:13:31,848 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:13:31,861 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[ERROR] 2025-11-19 15:13:33,195 â€” __main__ â€” Unexpected error in /detect
Traceback (most recent call last):
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.UndefinedColumn: column "user_id" of relation "detection" does not exist
LINE 1: INSERT INTO detection (id, user_id, type, params, routing, t...
                                   ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Files\Intern\ML-Project\app.py", line 177, in detect
    dept = Department.query.filter_by(name=dept_name).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2228, in _execute_internal
    ) = compile_state_cls.orm_pre_session_exec(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\context.py", line 577, in orm_pre_session_exec
    session._autoflush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3051, in _autoflush
    raise e.with_traceback(sys.exc_info()[2])
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3040, in _autoflush
    self.flush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.ProgrammingError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.UndefinedColumn) column "user_id" of relation "detection" does not exist
LINE 1: INSERT INTO detection (id, user_id, type, params, routing, t...
                                   ^

[SQL: INSERT INTO detection (id, user_id, type, params, routing, timestamp) VALUES (%(id)s, %(user_id)s, %(type)s, %(params)s::JSON, %(routing)s::JSON, %(timestamp)s)]
[parameters: {'id': 'a3462522-bb3c-42bb-9474-43be4b60d39b', 'user_id': None, 'type': 'waste', 'params': '{"detections": [{"xyxy": [184.546630859375, 212.54483032226562, 502.1412353515625, 427.4015197753906], "conf": 0.3083190321922302, "class_id": 4, "cl ... (574 characters truncated) ... idual", "area_px": 68237.32530936599, "area_pct": 0.1665950324935693, "density": 1.0, "proximity_pct": 0.3321851253509521}, "waste_type": "residual"}', 'routing': '{"departments": ["Ward Office"], "priority": "high", "scores": {"Waste Management": 0.3229835033416748, "Construction": 0.6736704111099243, "Municipa ... (20 characters truncated) ...  0.18561817705631256, "Electricity": 1.0, "Water": 0.23837058246135712, "Ward Office": 0.523842990398407}, "auto_assigned_department": "Ward Office"}', 'timestamp': '20251119T092833Z'}]
(Background on this error at: https://sqlalche.me/e/20/f405)
[INFO] 2025-11-19 15:13:33,225 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:13:33] "[35m[1mPOST /detect HTTP/1.1[0m" 500 -
[INFO] 2025-11-19 15:26:18,652 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-19 15:26:18,661 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-19 15:26:23,135 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:27:52,291 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:27:52,294 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:27:52,296 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:27:52,296 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:27:52,810 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:27:52,810 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:27:53,085 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:27:53,096 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:27:53,097 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:27:58,967 â€” __main__ â€” Database reset: all tables dropped and recreated.
[INFO] 2025-11-19 15:27:59,047 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-19 15:27:59,048 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-19 15:27:59,091 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:28:33,265 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:28:33,266 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:28:33,268 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:28:33,268 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:28:33,656 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:28:33,658 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:28:33,871 â€” __main__ â€” Database tables initialized.
[INFO] 2025-11-19 15:28:33,874 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:28:33,875 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:28:39,323 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:28:39,354 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:28:39,363 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:33:43,055 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-19 15:33:43,103 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-19 15:33:47,665 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:34:50,307 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:34:50,308 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:34:50,311 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:34:50,311 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:34:50,783 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:34:50,784 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:34:50,892 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:34:50,893 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:34:57,641 â€” __main__ â€” Database reset: all tables dropped and recreated.
[INFO] 2025-11-19 15:34:57,723 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-19 15:34:57,725 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-19 15:34:57,771 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:35:41,960 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:35:41,962 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:35:41,964 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:35:41,965 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:35:42,272 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:35:42,273 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:35:42,278 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:35:42,280 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:35:48,415 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:35:48,459 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:35:48,471 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:35:48,738 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:35:48] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-19 15:35:50,268 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:35:50] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-19 15:38:46,256 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\__init__.py', reloading
[INFO] 2025-11-19 15:38:46,258 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\__init__.py', reloading
[INFO] 2025-11-19 15:38:49,961 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:39:23,729 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:39:23,730 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:39:23,732 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:39:23,732 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:39:23,967 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:39:23,968 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:39:23,971 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:39:23,972 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:40:15,952 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:40:15,953 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:40:15,955 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:40:15,955 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:40:16,158 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:40:16,158 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:40:16,162 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:40:16,162 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:40:21,742 â€” __main__ â€” Database reset: all tables dropped and recreated.
[INFO] 2025-11-19 15:40:21,798 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-19 15:40:21,799 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-19 15:40:21,840 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:41:01,934 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:41:01,935 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:41:01,940 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:41:01,940 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:41:02,234 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:41:02,235 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:41:02,241 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:41:02,242 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:41:08,849 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:41:08,904 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:41:08,919 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:41:09,182 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:41:09] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-19 15:41:17,142 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:41:17] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-19 15:41:58,893 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:41:58] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-19 15:44:48,970 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\create_tables.py', reloading
[INFO] 2025-11-19 15:44:51,984 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:45:26,172 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:45:26,173 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:45:26,174 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:45:26,175 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:45:26,305 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:45:26,305 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:45:26,317 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:45:26,317 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:45:32,294 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:45:32,341 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:45:32,347 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:46:30,482 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:46:30,484 â€” app â€” Starting SmartCity server...
[INFO] 2025-11-19 15:46:30,492 â€” app â€” Initializing YOLO models...
[INFO] 2025-11-19 15:46:30,493 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:46:30,819 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:46:30,820 â€” app â€” Models loaded successfully.
[INFO] 2025-11-19 15:46:30,825 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:46:30,826 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:46:34,299 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:46:34] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-19 15:46:40,415 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:46:40] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-19 15:49:22,922 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\tag.py', reloading
[INFO] 2025-11-19 15:49:22,924 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\tag.py', reloading
[INFO] 2025-11-19 15:49:26,136 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:49:59,339 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:49:59,339 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:49:59,342 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:49:59,343 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:49:59,697 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:49:59,697 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:49:59,701 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:49:59,702 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:50:07,874 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:50:07,916 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:50:07,924 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:51:25,450 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\detection.py', reloading
[INFO] 2025-11-19 15:51:25,451 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\detection.py', reloading
[INFO] 2025-11-19 15:51:27,714 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:51:55,993 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:51:55,995 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:51:56,002 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:51:56,003 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:51:56,373 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:51:56,374 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:51:56,380 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:51:56,380 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:52:01,557 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:52:01,579 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:52:01,586 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:52:04,854 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\relations.py', reloading
[INFO] 2025-11-19 15:52:04,857 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\relations.py', reloading
[INFO] 2025-11-19 15:52:06,660 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:52:31,105 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:52:31,106 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:52:31,109 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:52:31,110 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:52:31,217 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:52:31,218 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:52:31,220 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:52:31,220 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:52:52,173 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:52:52,204 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:52:52,211 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:53:53,400 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\user.py', reloading
[INFO] 2025-11-19 15:53:53,403 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\user.py', reloading
[INFO] 2025-11-19 15:53:53,405 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\user.py', reloading
[INFO] 2025-11-19 15:53:55,875 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:54:23,857 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:54:23,857 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:54:23,860 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:54:23,861 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:54:23,995 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:54:23,996 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:54:23,999 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:54:23,999 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:55:03,186 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:55:03,187 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:55:03,190 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:55:03,190 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:55:03,422 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:55:03,423 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:55:03,428 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:55:03,428 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:55:11,959 â€” __main__ â€” Database reset: all tables dropped and recreated.
[INFO] 2025-11-19 15:55:11,999 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-19 15:55:12,000 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-19 15:55:12,023 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-19 15:55:58,867 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-19 15:55:58,867 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-19 15:55:58,872 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-19 15:55:58,873 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-19 15:55:59,303 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-19 15:55:59,304 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-19 15:55:59,308 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-19 15:55:59,309 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-19 15:56:06,255 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-19 15:56:06,304 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-19 15:56:06,315 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-19 15:56:06,496 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:56:06] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-19 15:56:12,832 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:56:12] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-19 15:59:07,419 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:59:07] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-19 15:59:12,479 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:59:12] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-19 15:59:17,324 â€” werkzeug â€” 127.0.0.1 - - [19/Nov/2025 15:59:17] "[33mGET /storage/annotated/a924351a-6d73-4bbb-b2f9-225e46005cdc_annotated.jpg HTTP/1.1[0m" 404 -
[INFO] 2025-11-20 10:29:09,349 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 10:29:09,351 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 10:29:09,352 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 10:29:09,353 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 10:29:09,638 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 10:29:09,638 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 10:29:09,654 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 10:29:09,655 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 10:29:35,820 â€” __main__ â€” Database reset: all tables dropped and recreated.
[INFO] 2025-11-20 10:29:35,909 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-20 10:29:35,910 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-20 10:29:35,947 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 10:30:07,300 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 10:30:07,301 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 10:30:07,306 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 10:30:07,306 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 10:30:07,552 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 10:30:07,552 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 10:30:07,556 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 10:30:07,556 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 10:30:13,425 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-20 10:30:13,484 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 10:30:13,509 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 10:30:13,713 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 10:30:13] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-20 10:30:30,745 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 10:30:30] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-20 10:30:34,293 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 10:30:34] "[33mGET /storage/annotated/a924351a-6d73-4bbb-b2f9-225e46005cdc_annotated.jpg HTTP/1.1[0m" 404 -
[INFO] 2025-11-20 13:14:46,084 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:14:46,087 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:14:46,092 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:14:46,092 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:14:46,649 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:14:46,650 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:14:46,678 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:14:46,679 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:14:53,555 â€” __main__ â€” Database reset: all tables dropped and recreated.
[INFO] 2025-11-20 13:14:53,642 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-20 13:14:53,644 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-20 13:14:53,701 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:15:38,232 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:15:38,232 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:15:38,235 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:15:38,235 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:15:38,414 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:15:38,415 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:15:38,420 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:15:38,420 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:15:44,364 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-20 13:15:44,437 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:15:44,461 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 13:16:38,711 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\base_data.py', reloading
[INFO] 2025-11-20 13:16:41,571 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:17:13,386 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:17:13,386 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:17:13,388 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:17:13,388 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:17:13,604 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:17:13,605 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:17:13,608 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:17:13,608 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:17:18,910 â€” __main__ â€” Database reset: all tables dropped and recreated.
[WARNING] 2025-11-20 13:17:18,944 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:17:18,950 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 13:18:07,177 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:18:07,177 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:18:07,179 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:18:07,180 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:18:07,383 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:18:07,384 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:18:07,389 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:18:07,389 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:18:12,769 â€” __main__ â€” Database reset + base data created.
[INFO] 2025-11-20 13:18:12,818 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-20 13:18:12,818 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-20 13:18:12,842 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:18:37,506 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:18:37,506 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:18:37,508 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:18:37,508 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:18:37,662 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:18:37,662 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:18:37,664 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:18:37,665 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:18:44,105 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 13:18:44,151 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:18:44,158 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 13:20:31,292 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:20:31] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-20 13:20:49,178 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:20:49] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-20 13:22:48,972 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:22:48] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-20 13:25:34,357 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:25:34] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-20 13:25:58,892 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:25:58] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-20 13:26:43,987 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:26:43] "POST /detect HTTP/1.1" 200 -
[ERROR] 2025-11-20 13:28:01,795 â€” __main__ â€” Unexpected error in /detect
Traceback (most recent call last):
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "detection" violates foreign key constraint "detection_user_id_fkey"
DETAIL:  Key (user_id)=(web_usr_2) is not present in table "user".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Files\Intern\ML-Project\app.py", line 151, in detect
    create_detection_with_relations(
  File "C:\Files\Intern\ML-Project\utils\save_detection.py", line 47, in create_detection_with_relations
    dept = Department.query.filter_by(name=dept_name).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2228, in _execute_internal
    ) = compile_state_cls.orm_pre_session_exec(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\context.py", line 577, in orm_pre_session_exec
    session._autoflush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3051, in _autoflush
    raise e.with_traceback(sys.exc_info()[2])
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3040, in _autoflush
    self.flush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "detection" violates foreign key constraint "detection_user_id_fkey"
DETAIL:  Key (user_id)=(web_usr_2) is not present in table "user".

[SQL: INSERT INTO detection (id, user_id, type, params, routing, timestamp) VALUES (%(id)s, %(user_id)s, %(type)s, %(params)s::JSON, %(routing)s::JSON, %(timestamp)s)]
[parameters: {'id': '855b08a8-6985-44a5-a1d4-7936fc4073ed', 'user_id': 'web_usr_2', 'type': 'waste', 'params': '{"detections": [{"xyxy": [184.546630859375, 212.54483032226562, 502.1412353515625, 427.4015197753906], "conf": 0.3083190321922302, "class_id": 4, "cl ... (574 characters truncated) ... idual", "area_px": 68237.32530936599, "area_pct": 0.1665950324935693, "density": 1.0, "proximity_pct": 0.3321851253509521}, "waste_type": "residual"}', 'routing': '{"departments": ["Ward Office"], "priority": "high", "scores": {"Waste Management": 0.1333606094121933, "Construction": 0.0, "Municipality": 0.589417 ... (19 characters truncated) ...  1.0, "Electricity": 0.41083207726478577, "Water": 0.7602011561393738, "Ward Office": 0.5033600926399231}, "auto_assigned_department": "Ward Office"}', 'timestamp': ''}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[INFO] 2025-11-20 13:28:01,814 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\query.py', reloading
[INFO] 2025-11-20 13:28:01,874 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:28:01] "[35m[1mPOST /detect HTTP/1.1[0m" 500 -
[INFO] 2025-11-20 13:28:01,875 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\session.py', reloading
[INFO] 2025-11-20 13:28:01,877 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\context.py', reloading
[INFO] 2025-11-20 13:28:01,878 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\util\\langhelpers.py', reloading
[INFO] 2025-11-20 13:28:01,879 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\unitofwork.py', reloading
[INFO] 2025-11-20 13:28:01,880 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\orm\\persistence.py', reloading
[INFO] 2025-11-20 13:28:01,882 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\engine\\base.py', reloading
[INFO] 2025-11-20 13:28:01,884 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\sql\\elements.py', reloading
[INFO] 2025-11-20 13:28:01,887 â€” werkzeug â€”  * Detected change in 'C:\\Users\\Saina\\anaconda3\\envs\\project\\Lib\\site-packages\\sqlalchemy\\engine\\default.py', reloading
[INFO] 2025-11-20 13:28:08,798 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:28:59,051 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:28:59,052 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:28:59,058 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:28:59,060 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:28:59,557 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:28:59,558 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:28:59,583 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:28:59,584 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:29:06,574 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 13:29:06,620 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:29:06,631 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[ERROR] 2025-11-20 13:29:10,490 â€” __main__ â€” Unexpected error in /detect
Traceback (most recent call last):
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
psycopg2.errors.ForeignKeyViolation: insert or update on table "detection" violates foreign key constraint "detection_user_id_fkey"
DETAIL:  Key (user_id)=(a1cf17eb-2fc1-4fd0-99f2-ffcd2b6d1dbd) is not present in table "user".


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Files\Intern\ML-Project\app.py", line 151, in detect
    create_detection_with_relations(
  File "C:\Files\Intern\ML-Project\utils\save_detection.py", line 47, in create_detection_with_relations
    dept = Department.query.filter_by(name=dept_name).first()
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2759, in first
    return self.limit(1)._iter().first()  # type: ignore
           ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\query.py", line 2857, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2351, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 2228, in _execute_internal
    ) = compile_state_cls.orm_pre_session_exec(
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\context.py", line 577, in orm_pre_session_exec
    session._autoflush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3051, in _autoflush
    raise e.with_traceback(sys.exc_info()[2])
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 3040, in _autoflush
    self.flush()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4331, in flush
    self._flush(objects)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4466, in _flush
    with util.safe_reraise():
         ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\util\langhelpers.py", line 224, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\session.py", line 4427, in _flush
    flush_context.execute()
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 466, in execute
    rec.execute(self)
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\orm\persistence.py", line 1048, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1419, in execute
    return meth(
           ^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\sql\elements.py", line 526, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1641, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "C:\Users\Saina\anaconda3\envs\project\Lib\site-packages\sqlalchemy\engine\default.py", line 951, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (raised as a result of Query-invoked autoflush; consider using a session.no_autoflush block if this flush is occurring prematurely)
(psycopg2.errors.ForeignKeyViolation) insert or update on table "detection" violates foreign key constraint "detection_user_id_fkey"
DETAIL:  Key (user_id)=(a1cf17eb-2fc1-4fd0-99f2-ffcd2b6d1dbd) is not present in table "user".

[SQL: INSERT INTO detection (id, user_id, type, params, routing, timestamp) VALUES (%(id)s, %(user_id)s, %(type)s, %(params)s::JSON, %(routing)s::JSON, %(timestamp)s)]
[parameters: {'id': '2b55e382-9939-4ac8-ba85-25692c0d5433', 'user_id': 'a1cf17eb-2fc1-4fd0-99f2-ffcd2b6d1dbd', 'type': 'waste', 'params': '{"detections": [{"xyxy": [184.546630859375, 212.54483032226562, 502.1412353515625, 427.4015197753906], "conf": 0.3083190321922302, "class_id": 4, "cl ... (574 characters truncated) ... idual", "area_px": 68237.32530936599, "area_pct": 0.1665950324935693, "density": 1.0, "proximity_pct": 0.3321851253509521}, "waste_type": "residual"}', 'routing': '{"departments": ["Ward Office"], "priority": "high", "scores": {"Waste Management": 0.3802281618118286, "Construction": 0.5634568333625793, "Municipa ... (21 characters truncated) ... 0.2872011065483093, "Electricity": 0.27576860785484314, "Water": 0.17202261090278625, "Ward Office": 1.0}, "auto_assigned_department": "Ward Office"}', 'timestamp': ''}]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
[INFO] 2025-11-20 13:29:10,530 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:29:10] "[35m[1mPOST /detect HTTP/1.1[0m" 500 -
[INFO] 2025-11-20 13:30:36,317 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:30:36] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-20 13:31:34,520 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:31:34] "[33mGET /detections/cc6661cd-7214-4794-ad5a-1d4758985f76 HTTP/1.1[0m" 404 -
[INFO] 2025-11-20 13:32:19,466 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:32:19] "GET /detections/e9485ff4-fd5f-42de-b6cd-be071082441c HTTP/1.1" 200 -
[INFO] 2025-11-20 13:32:49,732 â€” werkzeug â€” 127.0.0.1 - - [20/Nov/2025 13:32:49] "GET /storage/annotated/e9485ff4-fd5f-42de-b6cd-be071082441c_annotated.jpg HTTP/1.1" 200 -
[INFO] 2025-11-20 13:35:27,772 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\base_data.py', reloading
[INFO] 2025-11-20 13:35:27,794 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\base_data.py', reloading
[INFO] 2025-11-20 13:35:36,656 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:36:14,470 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:36:14,471 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:36:14,474 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:36:14,475 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:36:14,747 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:36:14,748 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:36:14,760 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:36:14,760 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:36:21,180 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 13:36:21,214 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:36:21,220 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 13:36:21,494 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\base_data.py', reloading
[INFO] 2025-11-20 13:36:21,495 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\base_data.py', reloading
[INFO] 2025-11-20 13:36:24,344 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:36:49,056 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:36:49,056 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:36:49,058 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:36:49,059 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:36:49,200 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:36:49,201 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:36:49,204 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:36:49,204 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:36:54,195 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 13:36:54,214 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:36:54,221 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 13:36:56,453 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\file_utils.py', reloading
[INFO] 2025-11-20 13:36:56,454 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\file_utils.py', reloading
[INFO] 2025-11-20 13:36:58,129 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:37:22,032 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:37:22,033 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:37:22,035 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:37:22,036 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:37:22,192 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:37:22,193 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:37:22,195 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:37:22,196 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:37:27,298 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 13:37:27,317 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:37:27,322 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 13:37:27,883 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-20 13:37:27,884 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-20 13:37:30,196 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:37:53,303 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:37:53,304 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:37:53,307 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:37:53,307 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:37:53,482 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:37:53,482 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:37:53,485 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:37:53,485 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:37:58,546 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 13:37:58,567 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:37:58,571 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 13:38:01,062 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-20 13:38:01,063 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-20 13:38:01,063 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\app.py', reloading
[INFO] 2025-11-20 13:38:03,514 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 13:38:26,689 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 13:38:26,689 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 13:38:26,693 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 13:38:26,694 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 13:38:26,845 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 13:38:26,845 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 13:38:26,848 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 13:38:26,849 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 13:38:32,016 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 13:38:32,038 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 13:38:32,045 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-20 16:00:28,612 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\base_data.py', reloading
[INFO] 2025-11-20 16:00:28,654 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\utils\\base_data.py', reloading
[INFO] 2025-11-20 16:00:38,416 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 16:01:46,009 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 16:01:46,011 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 16:01:46,015 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 16:01:46,015 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 16:01:46,456 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 16:01:46,458 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 16:01:46,489 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 16:01:46,490 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 16:01:55,402 â€” __main__ â€” Database reset + base data created.
[INFO] 2025-11-20 16:01:55,503 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.7:5000
[INFO] 2025-11-20 16:01:55,505 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-20 16:01:55,559 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-20 16:02:39,754 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-20 16:02:39,758 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-20 16:02:39,762 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-20 16:02:39,765 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-20 16:02:40,134 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-20 16:02:40,134 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-20 16:02:40,139 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-20 16:02:40,140 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-20 16:02:45,884 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-20 16:02:45,928 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-20 16:02:45,937 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-21 10:25:03,280 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 10:25:03,283 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 10:25:03,285 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 10:25:03,286 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 10:25:03,827 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 10:25:03,828 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 10:25:03,836 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 10:25:03,836 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 10:25:10,455 â€” __main__ â€” Database reset + base data created.
[INFO] 2025-11-21 10:25:10,532 â€” werkzeug â€” [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:5000
 * Running on http://192.168.101.8:5000
[INFO] 2025-11-21 10:25:10,533 â€” werkzeug â€” [33mPress CTRL+C to quit[0m
[INFO] 2025-11-21 10:25:10,573 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-21 10:25:35,391 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 10:25:35,391 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 10:25:35,397 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 10:25:35,398 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 10:25:35,629 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 10:25:35,630 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 10:25:35,632 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 10:25:35,633 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 10:25:40,572 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-21 10:25:40,606 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-21 10:25:40,614 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-21 10:30:28,999 â€” werkzeug â€” 127.0.0.1 - - [21/Nov/2025 10:30:28] "GET /health HTTP/1.1" 200 -
[INFO] 2025-11-21 10:30:39,487 â€” werkzeug â€” 127.0.0.1 - - [21/Nov/2025 10:30:39] "POST /detect HTTP/1.1" 200 -
[INFO] 2025-11-21 11:03:35,979 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\detection.py', reloading
[INFO] 2025-11-21 11:03:46,533 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-21 11:05:17,918 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 11:05:17,919 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 11:05:17,923 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 11:05:17,924 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 11:05:18,430 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 11:05:18,431 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 11:05:18,457 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 11:05:18,459 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 11:05:26,269 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-21 11:05:26,344 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-21 11:05:26,363 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-21 12:15:24,291 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\department.py', reloading
[INFO] 2025-11-21 12:15:31,358 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-21 12:15:59,269 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 12:15:59,270 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 12:15:59,272 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 12:15:59,272 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 12:15:59,660 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 12:15:59,660 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 12:15:59,668 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 12:15:59,669 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 12:16:08,802 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-21 12:16:08,834 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-21 12:16:08,839 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-21 12:16:33,342 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\models\\user.py', reloading
[INFO] 2025-11-21 12:16:34,915 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-21 12:16:49,790 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 12:16:49,790 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 12:16:49,791 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 12:16:49,792 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 12:16:49,869 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 12:16:49,870 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 12:16:49,871 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 12:16:49,872 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 12:16:54,452 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-21 12:16:54,486 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-21 12:16:54,498 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-21 12:24:24,630 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\controllers\\__init__.py', reloading
[INFO] 2025-11-21 12:24:27,672 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-21 12:24:48,460 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 12:24:48,460 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 12:24:48,461 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 12:24:48,462 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 12:24:48,563 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 12:24:48,563 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 12:24:48,566 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 12:24:48,567 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 12:24:53,881 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-21 12:24:53,904 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-21 12:24:53,908 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-21 12:25:15,884 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\middlewares\\__init__.py', reloading
[INFO] 2025-11-21 12:25:17,617 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-21 12:25:33,864 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 12:25:33,865 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 12:25:33,868 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 12:25:33,868 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 12:25:34,083 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 12:25:34,085 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 12:25:34,089 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 12:25:34,095 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 12:25:39,848 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-21 12:25:39,891 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-21 12:25:39,905 â€” werkzeug â€”  * Debugger PIN: 124-983-047
[INFO] 2025-11-21 12:28:26,481 â€” werkzeug â€”  * Detected change in 'C:\\Files\\Intern\\ML-Project\\__init__.py', reloading
[INFO] 2025-11-21 12:28:28,181 â€” werkzeug â€”  * Restarting with watchdog (windowsapi)
[INFO] 2025-11-21 12:28:49,113 â€” root â€” Logging initialized successfully.
[INFO] 2025-11-21 12:28:49,113 â€” __main__ â€” Starting SmartCity server...
[INFO] 2025-11-21 12:28:49,114 â€” __main__ â€” Initializing YOLO models...
[INFO] 2025-11-21 12:28:49,114 â€” model_loader â€” Loading YOLO models on CPU...
[INFO] 2025-11-21 12:28:49,247 â€” model_loader â€” Models loaded successfully.
[INFO] 2025-11-21 12:28:49,247 â€” __main__ â€” Models loaded successfully.
[INFO] 2025-11-21 12:28:49,249 â€” sentence_transformers.SentenceTransformer â€” Use pytorch device_name: cpu
[INFO] 2025-11-21 12:28:49,251 â€” sentence_transformers.SentenceTransformer â€” Load pretrained SentenceTransformer: all-MiniLM-L6-v2
[INFO] 2025-11-21 12:28:54,168 â€” __main__ â€” Database reset + base data created.
[WARNING] 2025-11-21 12:28:54,188 â€” werkzeug â€”  * Debugger is active!
[INFO] 2025-11-21 12:28:54,197 â€” werkzeug â€”  * Debugger PIN: 124-983-047
